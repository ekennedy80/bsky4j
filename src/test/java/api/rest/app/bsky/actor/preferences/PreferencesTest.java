package api.rest.app.bsky.actor.preferences;

import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.jupiter.api.Test;

public class PreferencesTest {

    private static final String EXAMPLE = "{\"preferences\":[{\"$type\":\"app.bsky.actor.defs#contentLabelPref\",\"visibility\":\"warn\",\"label\":\"hate\"},{\"$type\":\"app.bsky.actor.defs#adultContentPref\",\"enabled\":true},{\"visibility\":\"ignore\",\"label\":\"nsfw\",\"$type\":\"app.bsky.actor.defs#contentLabelPref\"},{\"visibility\":\"ignore\",\"label\":\"nudity\",\"$type\":\"app.bsky.actor.defs#contentLabelPref\"},{\"$type\":\"app.bsky.actor.defs#contentLabelPref\",\"visibility\":\"ignore\",\"label\":\"suggestive\"},{\"hideReposts\":false,\"hideQuotePosts\":false,\"$type\":\"app.bsky.actor.defs#feedViewPref\",\"feed\":\"home\",\"hideRepliesByUnfollowed\":false,\"hideRepliesByLikeCount\":4,\"hideReplies\":false},{\"nuxs\":[{\"id\":\"NeueTypography\",\"completed\":true}],\"$type\":\"app.bsky.actor.defs#bskyAppStatePref\"},{\"$type\":\"app.bsky.actor.defs#savedFeedsPrefV2\",\"items\":[{\"id\":\"3l5uilmc4w22k\",\"type\":\"timeline\",\"value\":\"following\",\"pinned\":true},{\"id\":\"3l5uilmc4w32k\",\"type\":\"feed\",\"value\":\"at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/whats-hot\",\"pinned\":true},{\"id\":\"3l5uilmc4w42k\",\"type\":\"feed\",\"value\":\"at://did:plc:gekdk2nd47gkk3utfz2xf7cn/app.bsky.feed.generator/aaap4tbjcfe5y\",\"pinned\":true},{\"id\":\"3l5uilmc4w52k\",\"type\":\"feed\",\"value\":\"at://did:plc:jfhpnnst6flqway4eaeqzj2a/app.bsky.feed.generator/for-science\",\"pinned\":true},{\"id\":\"3l5uilmc4w62k\",\"type\":\"feed\",\"value\":\"at://did:plc:jcoy7v3a2t4rcfdh6i4kza25/app.bsky.feed.generator/astro\",\"pinned\":true},{\"id\":\"3l5uilmc4w72k\",\"type\":\"feed\",\"value\":\"at://did:plc:tenurhgjptubkk5zf5qhi3og/app.bsky.feed.generator/h-nba\",\"pinned\":true},{\"id\":\"3l5uilmc4wa2k\",\"type\":\"feed\",\"value\":\"at://did:plc:vpkhqolt662uhesyj6nxm7ys/app.bsky.feed.generator/devfeed\",\"pinned\":true},{\"id\":\"3l5uilmc4wb2k\",\"type\":\"feed\",\"value\":\"at://did:plc:cndfx4udwgvpjaakvxvh7wm5/app.bsky.feed.generator/flipboard-tech\",\"pinned\":true},{\"id\":\"3l5uilmc4wc2k\",\"type\":\"feed\",\"value\":\"at://did:plc:gkvpokm7ec5j5yxls6xk4e3z/app.bsky.feed.generator/formula-one\",\"pinned\":true},{\"id\":\"3l5uilmc4wd2k\",\"type\":\"feed\",\"value\":\"at://did:plc:q6gjnaw2blty4crticxkmujt/app.bsky.feed.generator/positivifeed\",\"pinned\":true},{\"id\":\"3l5uilmc4we2k\",\"type\":\"feed\",\"value\":\"at://did:plc:geoqe3qls5mwezckxxsewys2/app.bsky.feed.generator/aaai43yetqshu\",\"pinned\":true},{\"id\":\"3l5uilmc4wf2k\",\"type\":\"feed\",\"value\":\"at://did:plc:io2xfl2j44cepiys7cli5dkf/app.bsky.feed.generator/rustlang\",\"pinned\":true},{\"id\":\"3l5uilmc4wg2k\",\"type\":\"feed\",\"value\":\"at://did:plc:yb37rlld5hddptt5dfywfgpz/app.bsky.feed.generator/aaadaozwkcgjw\",\"pinned\":true},{\"id\":\"3l5uilmc4wh2k\",\"type\":\"feed\",\"value\":\"at://did:plc:dsbpb3w7glnyddtbewg73g74/app.bsky.feed.generator/aaalfswgvacam\",\"pinned\":true},{\"id\":\"3l5uilmc4wi2k\",\"type\":\"feed\",\"value\":\"at://did:plc:lyrmsmhhg7vzz4ghj44y5xzq/app.bsky.feed.generator/c181ac083981\",\"pinned\":true},{\"id\":\"3l5uilmc4wj2k\",\"type\":\"feed\",\"value\":\"at://did:plc:pmyqirafcp3jqdhrl7crpq7t/app.bsky.feed.generator/aaao5gbpi7evg\",\"pinned\":true},{\"type\":\"feed\",\"value\":\"at://did:plc:kkf4naxqmweop7dv4l2iqqf5/app.bsky.feed.generator/verified-news\",\"pinned\":true,\"id\":\"3lauvnyvfck2r\"},{\"type\":\"feed\",\"value\":\"at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/hot-classic\",\"pinned\":true,\"id\":\"3lauvoaokws2r\"},{\"type\":\"feed\",\"value\":\"at://did:plc:kkf4naxqmweop7dv4l2iqqf5/app.bsky.feed.generator/news-2-0\",\"pinned\":true,\"id\":\"3le7z7wf3ec2v\"},{\"id\":\"3l5uilmc4wk2k\",\"type\":\"feed\",\"value\":\"at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/with-friends\",\"pinned\":false},{\"id\":\"3l5uilmc4wl2k\",\"type\":\"feed\",\"value\":\"at://did:plc:oav2ixis42pm5fqrqhp4ey3w/app.bsky.feed.generator/suggestive\",\"pinned\":false},{\"id\":\"3l5uilmc4wm2k\",\"type\":\"feed\",\"value\":\"at://did:plc:bfuck3vwwacatltdmnilloym/app.bsky.feed.generator/mutuals-ad\",\"pinned\":false},{\"id\":\"3l5uilmc4wn2k\",\"type\":\"feed\",\"value\":\"at://did:plc:kyttpb6um57f4c2wep25lqhq/app.bsky.feed.generator/aaaevewijfbqy\",\"pinned\":false},{\"id\":\"3l5uilmc4wo2k\",\"type\":\"feed\",\"value\":\"at://did:plc:hf7ezrajxadu7v3tzcyij424/app.bsky.feed.generator/aaap7dpu57ve6\",\"pinned\":false},{\"id\":\"3l5uilmc4wp2k\",\"type\":\"feed\",\"value\":\"at://did:plc:iw47x7htlvpkbbizqn2sgnks/app.bsky.feed.generator/whats-mid\",\"pinned\":false},{\"id\":\"3l5uilmc4wq2k\",\"type\":\"feed\",\"value\":\"at://did:plc:zmb46e2dhmit5zmu7xvpkctq/app.bsky.feed.generator/aaadc7obdpxdc\",\"pinned\":false},{\"id\":\"3l5uilmc4wr2k\",\"type\":\"feed\",\"value\":\"at://did:plc:wqowuobffl66jv3kpsvo7ak4/app.bsky.feed.generator/the-algorithm\",\"pinned\":false},{\"id\":\"3l5uilmc4ws2k\",\"type\":\"feed\",\"value\":\"at://did:plc:y7crv2yh74s7qhmtx3mvbgv5/app.bsky.feed.generator/art-new\",\"pinned\":false},{\"id\":\"3l5uilmc4wt2k\",\"type\":\"feed\",\"value\":\"at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/bsky-team\",\"pinned\":false},{\"id\":\"3l5uilmc4wu2k\",\"type\":\"feed\",\"value\":\"at://did:plc:yw3qqfa7hrhmwbc6wyrq5u7f/app.bsky.feed.generator/aaabqfmu2zuck\",\"pinned\":false},{\"id\":\"3l5uilmc4wv2k\",\"type\":\"feed\",\"value\":\"at://did:plc:oio4hkxaop4ao4wz2pp3f4cr/app.bsky.feed.generator/linux\",\"pinned\":false},{\"id\":\"3l5uilmc4ww2k\",\"type\":\"feed\",\"value\":\"at://did:plc:6yoy2i3u62ijc5dsuhdc3rwo/app.bsky.feed.generator/aaanf5hmpcpvs\",\"pinned\":false},{\"id\":\"3l5uilmc4wx2k\",\"type\":\"feed\",\"value\":\"at://did:plc:tenurhgjptubkk5zf5qhi3og/app.bsky.feed.generator/discover\",\"pinned\":false},{\"id\":\"3l5uilmc4wy2k\",\"type\":\"feed\",\"value\":\"at://did:plc:ukwly4246zmbi537o4u36pff/app.bsky.feed.generator/aaadbzfr4m6dm\",\"pinned\":false},{\"id\":\"3l5uilmc4wz2k\",\"type\":\"feed\",\"value\":\"at://did:plc:4jb3re5tvklsvhuc3lkerj5q/app.bsky.feed.generator/aaaivkscvi5vi\",\"pinned\":false},{\"id\":\"3l5uilmc4x22k\",\"type\":\"feed\",\"value\":\"at://did:plc:hf7ezrajxadu7v3tzcyij424/app.bsky.feed.generator/aaai44jkavvrs\",\"pinned\":false}]},{\"saved\":[\"at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/whats-hot\",\"at://did:plc:gekdk2nd47gkk3utfz2xf7cn/app.bsky.feed.generator/aaap4tbjcfe5y\",\"at://did:plc:jfhpnnst6flqway4eaeqzj2a/app.bsky.feed.generator/for-science\",\"at://did:plc:jcoy7v3a2t4rcfdh6i4kza25/app.bsky.feed.generator/astro\",\"at://did:plc:tenurhgjptubkk5zf5qhi3og/app.bsky.feed.generator/h-nba\",\"at://did:plc:vpkhqolt662uhesyj6nxm7ys/app.bsky.feed.generator/devfeed\",\"at://did:plc:cndfx4udwgvpjaakvxvh7wm5/app.bsky.feed.generator/flipboard-tech\",\"at://did:plc:gkvpokm7ec5j5yxls6xk4e3z/app.bsky.feed.generator/formula-one\",\"at://did:plc:q6gjnaw2blty4crticxkmujt/app.bsky.feed.generator/positivifeed\",\"at://did:plc:geoqe3qls5mwezckxxsewys2/app.bsky.feed.generator/aaai43yetqshu\",\"at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/with-friends\",\"at://did:plc:oav2ixis42pm5fqrqhp4ey3w/app.bsky.feed.generator/suggestive\",\"at://did:plc:bfuck3vwwacatltdmnilloym/app.bsky.feed.generator/mutuals-ad\",\"at://did:plc:kyttpb6um57f4c2wep25lqhq/app.bsky.feed.generator/aaaevewijfbqy\",\"at://did:plc:hf7ezrajxadu7v3tzcyij424/app.bsky.feed.generator/aaap7dpu57ve6\",\"at://did:plc:iw47x7htlvpkbbizqn2sgnks/app.bsky.feed.generator/whats-mid\",\"at://did:plc:zmb46e2dhmit5zmu7xvpkctq/app.bsky.feed.generator/aaadc7obdpxdc\",\"at://did:plc:wqowuobffl66jv3kpsvo7ak4/app.bsky.feed.generator/the-algorithm\",\"at://did:plc:y7crv2yh74s7qhmtx3mvbgv5/app.bsky.feed.generator/art-new\",\"at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/bsky-team\",\"at://did:plc:yw3qqfa7hrhmwbc6wyrq5u7f/app.bsky.feed.generator/aaabqfmu2zuck\",\"at://did:plc:oio4hkxaop4ao4wz2pp3f4cr/app.bsky.feed.generator/linux\",\"at://did:plc:6yoy2i3u62ijc5dsuhdc3rwo/app.bsky.feed.generator/aaanf5hmpcpvs\",\"at://did:plc:tenurhgjptubkk5zf5qhi3og/app.bsky.feed.generator/discover\",\"at://did:plc:ukwly4246zmbi537o4u36pff/app.bsky.feed.generator/aaadbzfr4m6dm\",\"at://did:plc:4jb3re5tvklsvhuc3lkerj5q/app.bsky.feed.generator/aaaivkscvi5vi\",\"at://did:plc:hf7ezrajxadu7v3tzcyij424/app.bsky.feed.generator/aaai44jkavvrs\",\"at://did:plc:io2xfl2j44cepiys7cli5dkf/app.bsky.feed.generator/rustlang\",\"at://did:plc:yb37rlld5hddptt5dfywfgpz/app.bsky.feed.generator/aaadaozwkcgjw\",\"at://did:plc:dsbpb3w7glnyddtbewg73g74/app.bsky.feed.generator/aaalfswgvacam\",\"at://did:plc:lyrmsmhhg7vzz4ghj44y5xzq/app.bsky.feed.generator/c181ac083981\",\"at://did:plc:pmyqirafcp3jqdhrl7crpq7t/app.bsky.feed.generator/aaao5gbpi7evg\",\"at://did:plc:kkf4naxqmweop7dv4l2iqqf5/app.bsky.feed.generator/verified-news\",\"at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/hot-classic\",\"at://did:plc:kkf4naxqmweop7dv4l2iqqf5/app.bsky.feed.generator/news-2-0\"],\"$type\":\"app.bsky.actor.defs#savedFeedsPref\",\"pinned\":[\"at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/whats-hot\",\"at://did:plc:gekdk2nd47gkk3utfz2xf7cn/app.bsky.feed.generator/aaap4tbjcfe5y\",\"at://did:plc:jfhpnnst6flqway4eaeqzj2a/app.bsky.feed.generator/for-science\",\"at://did:plc:jcoy7v3a2t4rcfdh6i4kza25/app.bsky.feed.generator/astro\",\"at://did:plc:tenurhgjptubkk5zf5qhi3og/app.bsky.feed.generator/h-nba\",\"at://did:plc:vpkhqolt662uhesyj6nxm7ys/app.bsky.feed.generator/devfeed\",\"at://did:plc:cndfx4udwgvpjaakvxvh7wm5/app.bsky.feed.generator/flipboard-tech\",\"at://did:plc:gkvpokm7ec5j5yxls6xk4e3z/app.bsky.feed.generator/formula-one\",\"at://did:plc:q6gjnaw2blty4crticxkmujt/app.bsky.feed.generator/positivifeed\",\"at://did:plc:geoqe3qls5mwezckxxsewys2/app.bsky.feed.generator/aaai43yetqshu\",\"at://did:plc:io2xfl2j44cepiys7cli5dkf/app.bsky.feed.generator/rustlang\",\"at://did:plc:yb37rlld5hddptt5dfywfgpz/app.bsky.feed.generator/aaadaozwkcgjw\",\"at://did:plc:dsbpb3w7glnyddtbewg73g74/app.bsky.feed.generator/aaalfswgvacam\",\"at://did:plc:lyrmsmhhg7vzz4ghj44y5xzq/app.bsky.feed.generator/c181ac083981\",\"at://did:plc:pmyqirafcp3jqdhrl7crpq7t/app.bsky.feed.generator/aaao5gbpi7evg\",\"at://did:plc:kkf4naxqmweop7dv4l2iqqf5/app.bsky.feed.generator/verified-news\",\"at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/hot-classic\",\"at://did:plc:kkf4naxqmweop7dv4l2iqqf5/app.bsky.feed.generator/news-2-0\"]}]}";
    private static final String EXAMPLE2 = "{\"preferences\":[{\"$type\":\"app.bsky.actor.defs#contentLabelPref\",\"visibility\":\"warn\",\"label\":\"hate\"},{\"$type\":\"app.bsky.actor.defs#adultContentPref\",\"enabled\":true},{\"visibility\":\"ignore\",\"label\":\"nsfw\",\"$type\":\"app.bsky.actor.defs#contentLabelPref\"},{\"visibility\":\"ignore\",\"label\":\"nudity\",\"$type\":\"app.bsky.actor.defs#contentLabelPref\"},{\"$type\":\"app.bsky.actor.defs#contentLabelPref\",\"visibility\":\"ignore\",\"label\":\"suggestive\"},{\"hideReposts\":false,\"hideQuotePosts\":false,\"$type\":\"app.bsky.actor.defs#feedViewPref\",\"feed\":\"home\",\"hideRepliesByUnfollowed\":false,\"hideRepliesByLikeCount\":4,\"hideReplies\":false},{\"nuxs\":[{\"id\":\"NeueTypography\",\"completed\":true}],\"$type\":\"app.bsky.actor.defs#bskyAppStatePref\"},{\"$type\":\"app.bsky.actor.defs#savedFeedsPrefV2\",\"items\":[{\"id\":\"3l5uilmc4w22k\",\"type\":\"timeline\",\"value\":\"following\",\"pinned\":true},{\"id\":\"3l5uilmc4w32k\",\"type\":\"feed\",\"value\":\"at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/whats-hot\",\"pinned\":true},{\"id\":\"3l5uilmc4w42k\",\"type\":\"feed\",\"value\":\"at://did:plc:gekdk2nd47gkk3utfz2xf7cn/app.bsky.feed.generator/aaap4tbjcfe5y\",\"pinned\":true},{\"id\":\"3l5uilmc4w52k\",\"type\":\"feed\",\"value\":\"at://did:plc:jfhpnnst6flqway4eaeqzj2a/app.bsky.feed.generator/for-science\",\"pinned\":true},{\"id\":\"3l5uilmc4w62k\",\"type\":\"feed\",\"value\":\"at://did:plc:jcoy7v3a2t4rcfdh6i4kza25/app.bsky.feed.generator/astro\",\"pinned\":true},{\"id\":\"3l5uilmc4w72k\",\"type\":\"feed\",\"value\":\"at://did:plc:tenurhgjptubkk5zf5qhi3og/app.bsky.feed.generator/h-nba\",\"pinned\":true},{\"id\":\"3l5uilmc4wa2k\",\"type\":\"feed\",\"value\":\"at://did:plc:vpkhqolt662uhesyj6nxm7ys/app.bsky.feed.generator/devfeed\",\"pinned\":true},{\"id\":\"3l5uilmc4wb2k\",\"type\":\"feed\",\"value\":\"at://did:plc:cndfx4udwgvpjaakvxvh7wm5/app.bsky.feed.generator/flipboard-tech\",\"pinned\":true},{\"id\":\"3l5uilmc4wc2k\",\"type\":\"feed\",\"value\":\"at://did:plc:gkvpokm7ec5j5yxls6xk4e3z/app.bsky.feed.generator/formula-one\",\"pinned\":true},{\"id\":\"3l5uilmc4wd2k\",\"type\":\"feed\",\"value\":\"at://did:plc:q6gjnaw2blty4crticxkmujt/app.bsky.feed.generator/positivifeed\",\"pinned\":true},{\"id\":\"3l5uilmc4we2k\",\"type\":\"feed\",\"value\":\"at://did:plc:geoqe3qls5mwezckxxsewys2/app.bsky.feed.generator/aaai43yetqshu\",\"pinned\":true},{\"id\":\"3l5uilmc4wf2k\",\"type\":\"feed\",\"value\":\"at://did:plc:io2xfl2j44cepiys7cli5dkf/app.bsky.feed.generator/rustlang\",\"pinned\":true},{\"id\":\"3l5uilmc4wg2k\",\"type\":\"feed\",\"value\":\"at://did:plc:yb37rlld5hddptt5dfywfgpz/app.bsky.feed.generator/aaadaozwkcgjw\",\"pinned\":true},{\"id\":\"3l5uilmc4wh2k\",\"type\":\"feed\",\"value\":\"at://did:plc:dsbpb3w7glnyddtbewg73g74/app.bsky.feed.generator/aaalfswgvacam\",\"pinned\":true},{\"id\":\"3l5uilmc4wi2k\",\"type\":\"feed\",\"value\":\"at://did:plc:lyrmsmhhg7vzz4ghj44y5xzq/app.bsky.feed.generator/c181ac083981\",\"pinned\":true},{\"id\":\"3l5uilmc4wj2k\",\"type\":\"feed\",\"value\":\"at://did:plc:pmyqirafcp3jqdhrl7crpq7t/app.bsky.feed.generator/aaao5gbpi7evg\",\"pinned\":true},{\"type\":\"feed\",\"value\":\"at://did:plc:kkf4naxqmweop7dv4l2iqqf5/app.bsky.feed.generator/verified-news\",\"pinned\":true,\"id\":\"3lauvnyvfck2r\"},{\"type\":\"feed\",\"value\":\"at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/hot-classic\",\"pinned\":true,\"id\":\"3lauvoaokws2r\"},{\"type\":\"feed\",\"value\":\"at://did:plc:kkf4naxqmweop7dv4l2iqqf5/app.bsky.feed.generator/news-2-0\",\"pinned\":true,\"id\":\"3le7z7wf3ec2v\"},{\"id\":\"3l5uilmc4wk2k\",\"type\":\"feed\",\"value\":\"at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/with-friends\",\"pinned\":false},{\"id\":\"3l5uilmc4wl2k\",\"type\":\"feed\",\"value\":\"at://did:plc:oav2ixis42pm5fqrqhp4ey3w/app.bsky.feed.generator/suggestive\",\"pinned\":false},{\"id\":\"3l5uilmc4wm2k\",\"type\":\"feed\",\"value\":\"at://did:plc:bfuck3vwwacatltdmnilloym/app.bsky.feed.generator/mutuals-ad\",\"pinned\":false},{\"id\":\"3l5uilmc4wn2k\",\"type\":\"feed\",\"value\":\"at://did:plc:kyttpb6um57f4c2wep25lqhq/app.bsky.feed.generator/aaaevewijfbqy\",\"pinned\":false},{\"id\":\"3l5uilmc4wo2k\",\"type\":\"feed\",\"value\":\"at://did:plc:hf7ezrajxadu7v3tzcyij424/app.bsky.feed.generator/aaap7dpu57ve6\",\"pinned\":false},{\"id\":\"3l5uilmc4wp2k\",\"type\":\"feed\",\"value\":\"at://did:plc:iw47x7htlvpkbbizqn2sgnks/app.bsky.feed.generator/whats-mid\",\"pinned\":false},{\"id\":\"3l5uilmc4wq2k\",\"type\":\"feed\",\"value\":\"at://did:plc:zmb46e2dhmit5zmu7xvpkctq/app.bsky.feed.generator/aaadc7obdpxdc\",\"pinned\":false},{\"id\":\"3l5uilmc4wr2k\",\"type\":\"feed\",\"value\":\"at://did:plc:wqowuobffl66jv3kpsvo7ak4/app.bsky.feed.generator/the-algorithm\",\"pinned\":false},{\"id\":\"3l5uilmc4ws2k\",\"type\":\"feed\",\"value\":\"at://did:plc:y7crv2yh74s7qhmtx3mvbgv5/app.bsky.feed.generator/art-new\",\"pinned\":false},{\"id\":\"3l5uilmc4wt2k\",\"type\":\"feed\",\"value\":\"at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/bsky-team\",\"pinned\":false},{\"id\":\"3l5uilmc4wu2k\",\"type\":\"feed\",\"value\":\"at://did:plc:yw3qqfa7hrhmwbc6wyrq5u7f/app.bsky.feed.generator/aaabqfmu2zuck\",\"pinned\":false},{\"id\":\"3l5uilmc4wv2k\",\"type\":\"feed\",\"value\":\"at://did:plc:oio4hkxaop4ao4wz2pp3f4cr/app.bsky.feed.generator/linux\",\"pinned\":false},{\"id\":\"3l5uilmc4ww2k\",\"type\":\"feed\",\"value\":\"at://did:plc:6yoy2i3u62ijc5dsuhdc3rwo/app.bsky.feed.generator/aaanf5hmpcpvs\",\"pinned\":false},{\"id\":\"3l5uilmc4wx2k\",\"type\":\"feed\",\"value\":\"at://did:plc:tenurhgjptubkk5zf5qhi3og/app.bsky.feed.generator/discover\",\"pinned\":false},{\"id\":\"3l5uilmc4wy2k\",\"type\":\"feed\",\"value\":\"at://did:plc:ukwly4246zmbi537o4u36pff/app.bsky.feed.generator/aaadbzfr4m6dm\",\"pinned\":false},{\"id\":\"3l5uilmc4wz2k\",\"type\":\"feed\",\"value\":\"at://did:plc:4jb3re5tvklsvhuc3lkerj5q/app.bsky.feed.generator/aaaivkscvi5vi\",\"pinned\":false},{\"id\":\"3l5uilmc4x22k\",\"type\":\"feed\",\"value\":\"at://did:plc:hf7ezrajxadu7v3tzcyij424/app.bsky.feed.generator/aaai44jkavvrs\",\"pinned\":false}]},{\"saved\":[\"at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/whats-hot\",\"at://did:plc:gekdk2nd47gkk3utfz2xf7cn/app.bsky.feed.generator/aaap4tbjcfe5y\",\"at://did:plc:jfhpnnst6flqway4eaeqzj2a/app.bsky.feed.generator/for-science\",\"at://did:plc:jcoy7v3a2t4rcfdh6i4kza25/app.bsky.feed.generator/astro\",\"at://did:plc:tenurhgjptubkk5zf5qhi3og/app.bsky.feed.generator/h-nba\",\"at://did:plc:vpkhqolt662uhesyj6nxm7ys/app.bsky.feed.generator/devfeed\",\"at://did:plc:cndfx4udwgvpjaakvxvh7wm5/app.bsky.feed.generator/flipboard-tech\",\"at://did:plc:gkvpokm7ec5j5yxls6xk4e3z/app.bsky.feed.generator/formula-one\",\"at://did:plc:q6gjnaw2blty4crticxkmujt/app.bsky.feed.generator/positivifeed\",\"at://did:plc:geoqe3qls5mwezckxxsewys2/app.bsky.feed.generator/aaai43yetqshu\",\"at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/with-friends\",\"at://did:plc:oav2ixis42pm5fqrqhp4ey3w/app.bsky.feed.generator/suggestive\",\"at://did:plc:bfuck3vwwacatltdmnilloym/app.bsky.feed.generator/mutuals-ad\",\"at://did:plc:kyttpb6um57f4c2wep25lqhq/app.bsky.feed.generator/aaaevewijfbqy\",\"at://did:plc:hf7ezrajxadu7v3tzcyij424/app.bsky.feed.generator/aaap7dpu57ve6\",\"at://did:plc:iw47x7htlvpkbbizqn2sgnks/app.bsky.feed.generator/whats-mid\",\"at://did:plc:zmb46e2dhmit5zmu7xvpkctq/app.bsky.feed.generator/aaadc7obdpxdc\",\"at://did:plc:wqowuobffl66jv3kpsvo7ak4/app.bsky.feed.generator/the-algorithm\",\"at://did:plc:y7crv2yh74s7qhmtx3mvbgv5/app.bsky.feed.generator/art-new\",\"at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/bsky-team\",\"at://did:plc:yw3qqfa7hrhmwbc6wyrq5u7f/app.bsky.feed.generator/aaabqfmu2zuck\",\"at://did:plc:oio4hkxaop4ao4wz2pp3f4cr/app.bsky.feed.generator/linux\",\"at://did:plc:6yoy2i3u62ijc5dsuhdc3rwo/app.bsky.feed.generator/aaanf5hmpcpvs\",\"at://did:plc:tenurhgjptubkk5zf5qhi3og/app.bsky.feed.generator/discover\",\"at://did:plc:ukwly4246zmbi537o4u36pff/app.bsky.feed.generator/aaadbzfr4m6dm\",\"at://did:plc:4jb3re5tvklsvhuc3lkerj5q/app.bsky.feed.generator/aaaivkscvi5vi\",\"at://did:plc:hf7ezrajxadu7v3tzcyij424/app.bsky.feed.generator/aaai44jkavvrs\",\"at://did:plc:io2xfl2j44cepiys7cli5dkf/app.bsky.feed.generator/rustlang\",\"at://did:plc:yb37rlld5hddptt5dfywfgpz/app.bsky.feed.generator/aaadaozwkcgjw\",\"at://did:plc:dsbpb3w7glnyddtbewg73g74/app.bsky.feed.generator/aaalfswgvacam\",\"at://did:plc:lyrmsmhhg7vzz4ghj44y5xzq/app.bsky.feed.generator/c181ac083981\",\"at://did:plc:pmyqirafcp3jqdhrl7crpq7t/app.bsky.feed.generator/aaao5gbpi7evg\",\"at://did:plc:kkf4naxqmweop7dv4l2iqqf5/app.bsky.feed.generator/verified-news\",\"at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/hot-classic\",\"at://did:plc:kkf4naxqmweop7dv4l2iqqf5/app.bsky.feed.generator/news-2-0\"],\"$type\":\"app.bsky.actor.defs#savedFeedsPref\",\"pinned\":[\"at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/whats-hot\",\"at://did:plc:gekdk2nd47gkk3utfz2xf7cn/app.bsky.feed.generator/aaap4tbjcfe5y\",\"at://did:plc:jfhpnnst6flqway4eaeqzj2a/app.bsky.feed.generator/for-science\",\"at://did:plc:jcoy7v3a2t4rcfdh6i4kza25/app.bsky.feed.generator/astro\",\"at://did:plc:tenurhgjptubkk5zf5qhi3og/app.bsky.feed.generator/h-nba\",\"at://did:plc:vpkhqolt662uhesyj6nxm7ys/app.bsky.feed.generator/devfeed\",\"at://did:plc:cndfx4udwgvpjaakvxvh7wm5/app.bsky.feed.generator/flipboard-tech\",\"at://did:plc:gkvpokm7ec5j5yxls6xk4e3z/app.bsky.feed.generator/formula-one\",\"at://did:plc:q6gjnaw2blty4crticxkmujt/app.bsky.feed.generator/positivifeed\",\"at://did:plc:geoqe3qls5mwezckxxsewys2/app.bsky.feed.generator/aaai43yetqshu\",\"at://did:plc:io2xfl2j44cepiys7cli5dkf/app.bsky.feed.generator/rustlang\",\"at://did:plc:yb37rlld5hddptt5dfywfgpz/app.bsky.feed.generator/aaadaozwkcgjw\",\"at://did:plc:dsbpb3w7glnyddtbewg73g74/app.bsky.feed.generator/aaalfswgvacam\",\"at://did:plc:lyrmsmhhg7vzz4ghj44y5xzq/app.bsky.feed.generator/c181ac083981\",\"at://did:plc:pmyqirafcp3jqdhrl7crpq7t/app.bsky.feed.generator/aaao5gbpi7evg\",\"at://did:plc:kkf4naxqmweop7dv4l2iqqf5/app.bsky.feed.generator/verified-news\",\"at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/hot-classic\",\"at://did:plc:kkf4naxqmweop7dv4l2iqqf5/app.bsky.feed.generator/news-2-0\"]}]}";



    @Test
    void testSerialization() {
        ObjectMapper objectMapper = new ObjectMapper();
        String prettyJson = null;
        try {
            prettyJson = objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(EXAMPLE);
        } catch (JsonProcessingException e) {
            throw new RuntimeException(e);
        }
        Preferences prefs = null;
        try {
            prefs = objectMapper.readValue(EXAMPLE, Preferences.class);
        } catch (com. fasterxml. jackson. core. JsonProcessingException e) {
            e.printStackTrace();
        }
        try {
            System.out.println(EXAMPLE.replace("\\",""));
            System.out.println(prefs.getJsonString());
            System.out.println(prefs.getJsonString().replace("\\", ""));
            System.out.println(prefs.getJson());
            System.out.println("PRETTY: "+prettyJson.replace("\\", ""));
        } catch (JsonProcessingException e) {
            throw new RuntimeException(e);
        }
    }
}
