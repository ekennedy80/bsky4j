<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>FeedHandler.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Bluesky-REST-Client</a> &gt; <a href="index.source.html" class="el_package">api.rest.app.bsky.feed</a> &gt; <span class="el_source">FeedHandler.java</span></div><h1>FeedHandler.java</h1><pre class="source lang-java linenums">package api.rest.app.bsky.feed;

import api.rest.app.bsky.AbstractClient;
import api.rest.app.bsky.feed.defs.ActorFeeds;
import api.rest.app.bsky.feed.defs.ActorLikes;
import api.rest.app.bsky.feed.defs.DescribeFeedGenerator;
import jakarta.ws.rs.core.MediaType;

import static api.rest.GlobalVars.*;

import javax.management.ObjectName;

import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import com.fasterxml.jackson.databind.node.ObjectNode;

public class FeedHandler extends AbstractClient {

<span class="nc" id="L20">    private static final Logger LOGGER = LogManager.getLogger(FeedHandler.class);</span>

    public FeedHandler() {
<span class="nc" id="L23">        super();</span>
<span class="nc" id="L24">    LOGGER.debug(&quot;Instantiating ActorHandler.&quot;);</span>
<span class="nc" id="L25">    }</span>

    private static class SingletonHelper {
<span class="nc" id="L28">        private static final FeedHandler INSTANCE = new FeedHandler();</span>
    }

    public static FeedHandler getInstance() {
<span class="nc" id="L32">        return SingletonHelper.INSTANCE;</span>
    }

    //TODO: Fix jakarta.ws.rs.NotFoundException: HTTP 404 Not Found error
    public DescribeFeedGenerator describeFeedGenerator(String jwtToken) {
<span class="nc" id="L37">        return client.target(BSKY_URL + DESCRIBE_FEED_GENERATOR)</span>
<span class="nc" id="L38">                .request(MediaType.APPLICATION_JSON)</span>
<span class="nc" id="L39">                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwtToken)</span>
<span class="nc" id="L40">                .get(DescribeFeedGenerator.class);</span>
    }

    //TODO: Create actor feeds json objects
    public ObjectNode getActorFeeds(String jwtToken, String actor, Integer limit, String cursor) {
<span class="nc" id="L45">        return client.target(BSKY_URL + GET_ACTOR_FEEDS)</span>
<span class="nc" id="L46">            .queryParam(&quot;actor&quot;, actor)</span>
<span class="nc" id="L47">            .queryParam(&quot;limit&quot;, limit)</span>
<span class="nc" id="L48">            .queryParam(&quot;cursor&quot;, cursor)</span>
<span class="nc" id="L49">            .request(MediaType.APPLICATION_JSON)</span>
<span class="nc" id="L50">            .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwtToken)</span>
<span class="nc" id="L51">            .get(ObjectNode.class);</span>
    }


    public ActorLikes getActorLikes(String jwtToken, String actor, Integer limit, String cursor) {
<span class="nc" id="L56">        return client.target(BSKY_URL + GET_ACTOR_LIKES)</span>
<span class="nc" id="L57">        .queryParam(&quot;actor&quot;, actor)</span>
<span class="nc" id="L58">        .queryParam(&quot;limit&quot;, limit)</span>
<span class="nc" id="L59">        .queryParam(&quot;cursor&quot;, cursor)</span>
<span class="nc" id="L60">        .request(MediaType.APPLICATION_JSON)</span>
<span class="nc" id="L61">        .header(AUTHORIZATION, BEARER+jwtToken)</span>
<span class="nc" id="L62">        .get(ActorLikes.class);</span>
    }

    public void getAuthorFeed() {

<span class="nc" id="L67">    }</span>

    public void getFeedGenerator() {

<span class="nc" id="L71">    }</span>

    public void getFeedGenerators() {

<span class="nc" id="L75">    }</span>

    public void getFeedSkeleton() {

<span class="nc" id="L79">    }</span>

    public void getFeed() {

<span class="nc" id="L83">    }</span>

    public void getLikes() {

<span class="nc" id="L87">    }</span>

    public void getListFeed() {

<span class="nc" id="L91">    }</span>

    public void getPostThread() {

<span class="nc" id="L95">    }</span>

    public void getPosts() {
//        return client.target(BSKY_URL + SEARCH_POSTS)
//                .queryParam(&quot;q&quot;, query)
//                .queryParam(&quot;sort&quot;, &quot;top&quot;)
//                .queryParam(&quot;author&quot;, DID)
//                .request(MediaType.APPLICATION_JSON)
//                .header(AUTHORIZATION, BEARER + sessionToken)
//                .get(String.class);
<span class="nc" id="L105">    }</span>

    public void getQuotes() {

<span class="nc" id="L109">    }</span>

    public void getRepostedBy() {

<span class="nc" id="L113">    }</span>

    public void getSuggestedFeeds() {

<span class="nc" id="L117">    }</span>

    public void getTimeline() {

<span class="nc" id="L121">    }</span>

    public void searchPosts() {

<span class="nc" id="L125">    }</span>

    public void sendInteractions() {

<span class="nc" id="L129">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>